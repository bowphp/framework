volumes:
    ftp_storage:

services:
    mysql:
        container_name: bowphp_mysql
        image: mysql/mysql-server
        ports:
            - "3306:3306"
        environment:
            MYSQL_DATABASE: test_db
            MYSQL_USERNAME: root
            MYSQL_ROOT_PASSWORD: password
            MYSQL_ALLOW_EMPTY_PASSWORD: "yes"
    postgres:
        container_name: bowphp_postgres
        image: postgis/postgis
        ports:
            - "5432:5432"
        environment:
            POSTGRES_PASSWORD: postgres
            POSTGRES_DB: postgres
    ftp:
        container_name: bowphp_ftp
        image: papacdev/vsftpd
        ports:
            - "21:21"
            - "20:20"
            - "12020:12020"
            - "12021:12021"
            - "12022:12022"
            - "12023:12023"
            - "12024:12024"
            - "12025:12025"
        environment:
            USER: bob
            PASS: "12345"
        volumes:
            - "ftp_storage:/ftp/$USER"
    mail:
        container_name: bowphp_mail
        image: maildev/maildev
        ports:
            - "1025:25"
            - "1080:80"
    beanstalkd:
        container_name: bowphp_beanstalkd
        image: schickling/beanstalkd
        ports:
            - "11300:11300"
    redis:
        container_name: bowphp_redis
        image: redis
        ports:
            - "6379:6379"
    memcached:
        container_name: bowphp_memcached
        image: memcached
        command:
            - --conn-limit=1024
            - --memory-limit=64
            - --threads=4
        ports:
            - "11211:11211"
